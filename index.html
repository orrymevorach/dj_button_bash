<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DJ Button Bash</title>
    <link href="https://fonts.googleapis.com/css?family=Hind" rel="stylesheet">
    <link rel="stylesheet" href="Styles/style.css">
    <link rel="icon" href="images/record-favicon.png">
</head>
<body>
    
    <!-- Loading in jQuery -->
    <script src='https://code.jquery.com/jquery-3.2.1.min.js' integrity='sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4='crossorigin='anonymous'></script>
    
    <div class="wrapper"> <!-- Opening Wrapper to Center and Contain Buttons -->
        <div class="header-text">
            <h1>DJ Button Bash</h1>
        </div>

        <div class="buttons-container-large"> <!-- Opening Buttons to Position at the Bottom -->
            
            <!-- Header Text -->
            <div class="container-text">
                <h1>DJ Button Bash</h1>
            </div>

            <!-- Opening Buttons Container Small -->
            <div class="buttons-container-small">
            <!-- Animation bars -->
            <div class="animation-container">
                <div class="animations animation-green"></div>
                <div class="animations animation-pink"></div>
                <div class="animations animation-orange"></div>
                <div class="animations animation-blue-left"></div>
                <div class="animations animation-yellow"></div>
                <div class="animations animation-blue-right"></div>
                <div class="animations animation-green"></div>
                <div class="animations animation-pink"></div>
                <div class="animations animation-orange"></div>
                <div class="animations animation-blue-left"></div>
                <div class="animations animation-yellow"></div>
                <div class="animations animation-blue-right"></div>
                <div class="animations animation-green"></div>
                <div class="animations animation-pink"></div>
                <div class="animations animation-orange"></div>
                <div class="animations animation-blue-left"></div>
                <div class="animations animation-yellow"></div>
                <div class="animations animation-blue-right"></div>
                <div class="animations animation-green"></div>
                <div class="animations animation-pink"></div>
                <div class="animations animation-orange"></div>
                <div class="animations animation-blue-left"></div>
                <div class="animations animation-yellow"></div>
                <div class="animations animation-blue-right"></div>
                <div class="animations animation-green"></div>
                <div class="animations animation-pink"></div>
                <div class="animations animation-orange"></div>
                <div class="animations animation-blue-left"></div>
                <div class="animations animation-yellow"></div>
                <div class="animations animation-blue-right"></div>
                <div class="animations animation-green"></div>
                <div class="animations animation-pink"></div>
                <div class="animations animation-orange"></div>
                <div class="animations animation-blue-left"></div>
                <div class="animations animation-yellow"></div>
                <div class="animations animation-blue-right"></div>
                <div class="animations animation-green"></div>
                <div class="animations animation-pink"></div>
                <div class="animations animation-orange"></div>
                <div class="animations animation-blue-left"></div>
                <div class="animations animation-yellow2"></div>
                <div class="animations animation-blue-right2"></div>
                <div class="animations animation-green2"></div>
                <div class="animations animation-pink2"></div>
                <div class="animations animation-orange2"></div>
                <div class="animations animation-blue-left2"></div>
                <div class="animations animation-yellow2"></div>
                <div class="animations animation-blue-right2"></div>
                <div class="animations animation-green2"></div>
                <div class="animations animation-pink2"></div>
                <div class="animations animation-orange2"></div>
                <div class="animations animation-blue-left2"></div>
                <div class="animations animation-yellow2"></div>
            </div>
                <div class="top-row"> <!-- Opening Top Row -->
                    <!-- Drum Loops -->
                    <div class="buttons-green">
                        <div class="square button drumloop drumloop1" data-instrument="drumloop1">
                            <p>Q</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Drum</p>
                            </div>
                        </div>
                        
                        <div class="square button drumloop drumloop2">
                            <p>W</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Drum</p>
                            </div>
                        </div>
                        <div class="square button drumloop drumloop3">
                            <p>E</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Drum</p>
                            </div>
                        </div>
                        <div class="square button drumloop drumloop4">
                            <p>R</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Drum</p>
                            </div>
                        </div>
                        <div class="square button drumloop drumloop5">
                            <p>T</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Drum</p>
                            </div>
                        </div>
                        <div class="square button drumloop drumloop6">
                            <p>Y</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Drum</p>
                            </div>
                        </div>
                        <div class="square button drumloop drumloop7">
                            <p>U</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Drum</p>
                            </div>
                        </div>
                    </div> <!-- Closing Buttons-Green -->
                    
                    <div class="buttons-pink">
                        <!-- Guitar Loops -->
                        <div class="square button guitarloop guitarloop1">
                            <p>I</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Guitar</p>
                            </div>
                        </div>
                        <div class="square button guitarloop guitarloop2">
                            <p>O</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Guitar</p>
                            </div>
                        </div>
                        <div class="square button guitarloop guitarloop3">
                            <p>P</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Guitar</p>
                            </div>
                        </div>
                        <div class="square button guitarloop guitarloop4">
                            <p>[</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Guitar</p>
                            </div>
                        </div>
                        <div class="square button guitarloop guitarloop5">
                            <p>]</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Guitar</p>
                            </div>
                        </div>
                        <div class="square button guitarloop guitarloop6">
                            <p>\</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Guitar</p>
                            </div>
                        </div>
                    </div> <!-- Closing Buttons-Pink -->
                </div> <!-- Closing Top Row -->
            
                <div class="middle-row"> <!-- Oening Middle Row -->
                    <div class="buttons-orange">
                        <!-- Individual Drum Sounds -->
                        <div class="button square drum-sounds bass1">
                            <p>A</p>
                            <p>Bass</p>
                        </div>
                        <div class="button square drum-sounds bass2">
                            <p>S</p>
                            <p>Bass</p>
                        </div>
                        <div class="button square drum-sounds snare1">
                            <p>D</p>
                            <p>Snare</p>
                        </div>
                        <div class="button square drum-sounds snare2">
                            <p>F</p>
                            <p>Snare</p>
                        </div>
                        <div class="button square drum-sounds crash1">
                            <p>G</p>
                            <p>Cymbal</p>
                        </div>
                        <div class="button square drum-sounds crash2">
                            <p>H</p>
                            <p>Cymbal</p>
                        </div>
                    </div> <!-- Closing Buttons Orange -->
                    
                    <div class="buttons-blue-top">
                        <!-- DJ Sounds -->
                        <div class="button square dj bubbles">
                            <p>J</p>
                            <p>SFX</p>
                        </div>
                        <div class="button square dj clap">
                            <p>K</p>
                            <p>SFX</p>
                        </div>
                        <div class="button square dj clay">
                            <p>L</p>
                            <p>SFX</p>
                        </div>
                        <div class="button square dj spiral">
                            <p>;</p>
                            <p>SFX</p>
                        </div>
                        <div class="button square dj lazer">
                            <p>'</p>
                            <p>SFX</p>
                        </div>
                        <div class="button enter special applause">
                            <img src="images/clap.png" alt="Icon of Applause">
                        </div>
                    </div> <!-- Closing Buttons Blue Top -->
                </div> <!-- Closing Middle Row -->
            
                <div class="bottom-row"> <!-- Opening Bottom Row -->
                    <div class="buttons-yellow">
                        <!-- Hi Hat Loops -->
                        <div class="square button hihat hihat1">
                            <p>Z</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Hi Hat</p>
                            </div>
                        </div>
                        <div class="square button hihat hihat2">
                            <p>X</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Hi Hat</p>
                            </div>
                        </div>
                        <div class="square button hihat hihat3">
                            <p>C</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Hi Hat</p>
                            </div>
                        </div>
                        <div class="square button hihat hihat4">
                            <p>V</p>
                            <div class="loop-icon">
                                <img src="images/loop.png" alt="Loop Icon">
                                <p>Hi Hat</p>
                            </div>
                        </div>
                    </div> <!-- Closing Buttons Yellow -->
                    <div class="buttons-blue-bottom">
                        <!-- DJ Sounds Continued -->
                        <div class="square button dj moon">
                            <p>B</p>
                            <p>SFX</p>
                        </div>
                        <div class="square button dj pinwheel">
                            <p>N</p>
                            <p>SFX</p>
                        </div>
                        <div class="square button dj scratch">
                            <p>M</p>
                            <p>SFX</p>
                        </div>
                        <div class="square button dj strike">
                            <p>,</p>
                            <p>SFX</p>
                        </div>
                        <div class="square button dj corey">
                            <p>.</p>
                            <p>SSFX</p>
                        </div>
                        <div class="square button dj veil">
                            <p>/</p>
                            <p>SFX</p>
                        </div>
                        <div class="shift button drum-sounds singlehihat special">
                            <p>SHIFT</p>
                            <p>Hi Hat</p>
                        </div>
                    </div> <!-- Closing Buttons Blue Bottom -->
                </div> <!-- CLosing Bottom Row -->
            
            </div> <!-- Closing Buttons Container Small -->

        </div> <!-- Closing Buttons Container Large -->
    </div> <!-- Closing Wrapper -->
        

    <!-- Drum Loops 
        Q W E R T Y U 
     -->
    <audio data-key="81" data-instrument="drumloop1" data-hasLoop="true" src="Drum_Loops/drumloop1.mp3"></audio>
    <audio data-key="87" data-instrument="drumloop2" data-hasLoop="true" src="Drum_Loops/drumloop2.mp3"></audio>
    <audio data-key="69" data-instrument="drumloop3" data-hasLoop="true" src="Drum_Loops/drumloop3.mp3"></audio>
    <audio data-key="82" data-instrument="drumloop4" data-hasLoop="true" src="Drum_Loops/drumloop4.mp3"></audio>
    <audio data-key="84" data-instrument="drumloop5" data-hasLoop="true" src="Drum_Loops/drumloop5.mp3"></audio>
    <audio data-key="89" data-instrument="drumloop6" data-hasLoop="true" src="Drum_Loops/drumloop6.mp3"></audio>
    <audio data-key="85" data-instrument="drumloop7" data-hasLoop="true" src="Drum_Loops/drumloop10.mp3"></audio>

    <!-- Guitar Loops 
        I O P [ ] \
    -->
    <audio data-key="73" data-instrument="guitarloop1" data-hasLoop="true" src="Guitar_Loops/guitarloop1.mp3"></audio>
    <audio data-key="79" data-instrument="guitarloop2" data-hasLoop="true" src="Guitar_Loops/guitarloop10.mp3"></audio>
    <audio data-key="80" data-instrument="guitarloop3" data-hasLoop="true" src="Guitar_Loops/guitarloop4.mp3"></audio>
    <audio data-key="219" data-instrument="guitarloop4" data-hasLoop="true" src="Guitar_Loops/guitarloop5b.mp3"></audio>
    <audio data-key="221" data-instrument="guitarloop5" data-hasLoop="true" src="Guitar_Loops/guitarloop6b.mp3"></audio>
    <audio data-key="220" data-instrument="guitarloop6" data-hasLoop="true" src="Guitar_Loops/guitarloop8.mp3"></audio>

    <!-- Individual Drum Sounds -->
    <audio data-key="65" data-instrument="bass1" src="Drum_Individual_Sounds/kick02.wav"></audio>
    <audio data-key="83" data-instrument="bass2" src="Drum_Individual_Sounds/kick01.wav"></audio>
    <audio data-key="68" data-instrument="snare1" src="Drum_Individual_Sounds/snare1.wav"></audio>
    <audio data-key="70" data-instrument="snare2" src="Drum_Individual_Sounds/snare2.wav"></audio>
    <audio data-key="71" data-instrument="crash1" src="Drum_Individual_Sounds/crash1.wav"></audio>
    <audio data-key="72" data-instrument="crash2" src="Drum_Individual_Sounds/crash2.wav"></audio>
    <audio data-key="16" data-instrument="singlehihat" src="Drum_Individual_Sounds/singlehihat.wav"></audio>

    <!-- Hi Hat Loops -->
    <audio data-key="90" data-instrument="hihat1" data-hasLoop="true" src="Hi_Hat_Loops/hi-hat1.wav"></audio>
    <audio data-key="88" data-instrument="hihat2" data-hasLoop="true" src="Hi_Hat_Loops/hi-hat2.wav"></audio>
    <audio data-key="67" data-instrument="hihat3" data-hasLoop="true" src="Hi_Hat_Loops/hi-hat3.wav"></audio>
    <audio data-key="86" data-instrument="hihat4" data-hasLoop="true" src="Hi_Hat_Loops/hi-hat4.wav"></audio>
    
    <!-- Sound Effects 
        J K L ; '
    -->

    <audio data-key="74" data-instrument="bubbles" src="Sound_Effects/bubbles.mp3"></audio>
    <audio data-key="75" data-instrument="clap" src="Sound_Effects/clap.wav"></audio>
    <audio data-key="76" data-instrument="clay" src="Sound_Effects/clay.mp3"></audio>
    <audio data-key="59" data-instrument="spiral" src="Sound_Effects/dotted-spiral.mp3"></audio>
    <audio data-key="222" data-instrument="lazer" src="Sound_Effects/lazer.mp3"></audio>
    <!-- 
        B N M , . /
     -->
    <audio data-key="66" data-instrument="moon" src="Sound_Effects/moon.mp3"></audio>
    <audio data-key="78" data-instrument="pinwheel" src="Sound_Effects/pinwheel.mp3"></audio>
    <audio data-key="77" data-instrument="scratch" src="Sound_Effects/scratch.mp3"></audio>
    <audio data-key="188" data-instrument="strike" src="Sound_Effects/strike.mp3"></audio>
    <audio data-key="190" data-instrument="corey" src="Sound_Effects/corey.m4a"></audio>
    <audio data-key="191" data-instrument="veil" src="Sound_Effects/veil.mp3"></audio>
    <!-- SPACEBAR -->
    <audio data-key="13" data-instrument="applause" src="Sound_Effects/auditorium.mp3"></audio>
    
    
    
    <script>
    
    $(function() {
        
        // creating a function that will trigger the animation on keydown
        function triggerAnimations() {
            // a variable the gets all elements with the class of animations
            const animatedClass = document.getElementsByClassName('animations')
            
            // adds the class of animation to all elements with the class of animations
            $(animatedClass).addClass('animation')
        }

        function animation(e) {
            const selectedSound = document.querySelector(`audio[data-key="${e.which}"]`);
            console.log(selectedSound)
        }
        
        $(document).on('keydown', function(e){

            // create a dynamic variable that gets the sound associated with each data-key
            const selectedSound = document.querySelector(`audio[data-key="${e.which}"]`);
            
            // if button is clicked with no associated sound, do nothing.
            if (!selectedSound) return; 
            
            // rewinds each track as soon as it starts so it can be replayed immediately
            selectedSound.pause();
            selectedSound.currentTime = 0;

            // create a variable that gets the data of the divs with the class instrument
            const instrument = $(selectedSound).data('instrument');

            // creating a function so that when each key is hit, toggle the class 'highlight'
             const highlight = function() {
                 $(`.${instrument}`).toggleClass("highlight");            
             };
             highlight();
            
            // set a timeout function for the highlight after 150 milliseconds
            setTimeout(function() {
                highlight();
            },150) 
            
            function checkLoop(el) {
                
                // creating a variable that stores the attributes of an element with the data-attribute data-hasLoop
                const hasLoop = $(el).attr('data-hasLoop');
                
                // if the hasLoop attribute is not looping
                // else (if) loop is false, leave it at false
                // set time on each track to 60 seconds which is longer than any track so that it doesnt repeat itself
                
                if ( hasLoop && el.loop === false) {
                    selectedSound.loop = true;
                    highlight();
                } 
                else if (hasLoop && el.loop === true) {
                    selectedSound.loop = false;
                    selectedSound.pause();
                    selectedSound.currentTime = 60;
                    setTimeout(() => {
                        highlight();
                    }, 0)
                }
            }

            // triggerAnimations();
            checkLoop(selectedSound);
            return selectedSound.play();
        })

        

        // $(window).resize(function() {
        //     checkMobileSound(700);
        // });

        function checkMobileSound() {
            
            const phoneSelectedSound = document.querySelectorAll('.button');
                     
            // if ($(window).width() <= width) {

                $(phoneSelectedSound).on('click', function () {

                    const divSound = this.classList[3];
                    
                    const selectedSound = document.querySelector(`audio[data-instrument="${divSound}"]`);

                    // create a variable that gets the data of the divs with the class instrument
                    const instrument = $(selectedSound).data('instrument');

                    // creating a function so that when each key is hit, toggle the class 'highlight'
                    const highlight = function () {
                        $(`.${instrument}`).toggleClass("highlight");
                    };
                    highlight();

                    // set a timeout function for the highlight after 150 milliseconds
                    setTimeout(function () {
                        highlight();
                    }, 150) 
                    
                    function checkLoop(el) {

                        const hasLoop = $(el).attr('data-hasLoop');

                        if (hasLoop && el.loop === false) {
                            selectedSound.loop = true;
                            highlight();
                        }
                        else if (hasLoop && el.loop === true) {
                            selectedSound.loop = false;
                            selectedSound.pause();
                            selectedSound.currentTime = 60;
                            setTimeout(() => {
                                highlight();
                            }, 0)
                        }



                    }
                    checkLoop(selectedSound);
                    
                    
                    selectedSound.play();
                })
            // } 
            
            // else {
            //     $(phoneSelectedSound).off('click');
            // }

            
            
        }
        checkMobileSound();

    }); // Closing the document ready
    
    </script>




</body>

</html>